<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
	<title>Hola mundo</title>
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.5.5/pixi.js"></script> -->
	<script src="./public/js/pixi.js"></script>
	<script src="./public/js/tink.js"></script>
	<script src="./public/js/functions.js"></script>
</head>

<body>

	<script type="text/javascript">
		var renderer = PIXI.autoDetectRenderer(800, 600);
		document.body.appendChild(renderer.view);

		// create the root of the scene graph
		var stage = new PIXI.Container();

		// create a texture from an image path
		var texture = PIXI.Texture.fromImage('/public/images/cat.png');

		//var cat = createcat(50 , 50, stage);		
		var circle = create_circle(50 , 50, stage)
		var rect = create_rectangle(500, 500, stage)

		requestAnimationFrame( animate );

		function animate() {
				play(circle, rect);
		    requestAnimationFrame(animate);

		    // render the stage
		    renderer.render(stage);
		}

		function re_set(obj, x, y){
			var x_diff = Math.abs(obj.x - x);
			var y_diff = Math.abs(obj.y - y);
			var tiime = x_diff > y_diff ? x_diff : y_diff;
			
			var interval = setInterval(function(){ 
				if(obj.x == x && obj.y == y) clearInterval(interval);
				if(obj.x > x) obj.x -= 1;
				if(obj.y > y) obj.y -= 1; 
			}, 500);
		}
		
		function play(one, two) {
		  //check for a collision between the cat and the box
		  if (hitTestRectangle(one, two)) {

		    //one.interactive = false;
		    re_set(one, 50, 50);
		    interval = setInterval(animate, 40);
		    two.tint = 0xff3300;

		  }
		}
	</script>
</body>
</html>